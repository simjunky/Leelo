<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Documentation · Leelo.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Leelo.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../manual/">Manual</a></li><li class="is-active"><a class="tocitem" href>Documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Documentation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Documentation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/simjunky/Leelo/blob/master/docs/src/documentation.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Documentation"><a class="docs-heading-anchor" href="#Documentation">Documentation</a><a id="Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation" title="Permalink"></a></h1><p>To get an introduction into how to use <code>Leelo.jl</code>, refer to the <a href="../manual/#Manual">Manual</a> section.</p><article class="docstring"><header><a class="docstring-binding" id="Leelo.run_sim" href="#Leelo.run_sim"><code>Leelo.run_sim</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">run_sim(; config::AbstrConfiguration = SingleObjectiveBasicConfig(), scenario_dir::String = &quot;data/TestScenario/input_data/&quot;)</code></pre><p>This function runs the entire simulation and plotting procedure depending on a given configuration <code>config</code> and the scenario specified by <code>scenario_dir</code>.</p><p><strong>Short Procedure Description</strong></p><p>Parameter data is read from the input files in the scenario <code>input_data</code> directory. Then, for every benchmark year of the simulation, a new <code>JuMP</code> model is built (<code>build_base_model</code>), populated with variables (<code>add_model_variables</code>), constraints (<code>add_model_constraints</code>) and an objective (<code>add_model_objective</code>) and then run (<code>optimize!</code>). The result from the optimization is saved (<code>write_variables</code>) and lastly the parameters prepared for the next benchmark year (<code>data_transition</code>). After the final year the final parameters are saved together with the yearly optimization results (<code>write_parameters</code>). Lastly, plots are created from the saved data (<code>create_plots</code>).</p><p><strong>Arguments</strong></p><p><strong><code>config</code></strong> is the configuration specifying what the optimization objective is.</p><p><strong><code>scenario_dir</code></strong> is the relative path to the chosen scenarios directory. This directory must contain the scenario&#39;s parameter files inside an <code>input_data</code> sub-directory.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/Leelo.jl#L96-L114">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Leelo.ModelData" href="#Leelo.ModelData"><code>Leelo.ModelData</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ModelData</code></pre><p>The <code>ModelData</code> data structure contains all parameters needed by <code>Leelo</code>.</p><p><strong>Fields</strong></p><p><strong><code>interest_rate</code></strong> is the interest rate at which money can be borrowed. It is a scalar and unitless.</p><p>...</p><p><strong><code>costCapG[g, y]</code></strong> is the capital cost of the conventional power plant g&#39;s installation in year y. <em>2-dimensional: [g, y] in [k Dollar per installed MW]</em></p><p>or (g, y) Capital cost of power plant g&#39;s installation in year y [k Dollar per installed MW] costCapG::Array{Float64, 2} ?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/ModelData.jl#L3-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Leelo.read_model_parameters" href="#Leelo.read_model_parameters"><code>Leelo.read_model_parameters</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_model_parameters(; scenario_dir::String = &quot;data/TestScenario&quot;)::ModelData</code></pre><p>This function reads all input files and writes the parameter data into a <code>ModelData</code> data structure.</p><p><strong>Arguments</strong></p><p><strong><code>scenario_dir</code></strong> is a <code>String</code> containing the relative path to the chosen scenarios directory. The input files must be inside a <code>input_data</code> sub-directory and named as specified below.</p><p><strong>Predefined Input File Names</strong></p><p>The input files must be inside a <code>input_data</code> sub-directory and named as specified below. Two examples are at <code>data/Chile-Madhura</code> and <code>data/TestScenario</code>. The latter one being drastically reduced in size.</p><p><strong><code>scenario_settings.xlsx</code></strong> contains basic information like the numer and resolution of timesteps, or number of nodes, as well as general model parameters e.g. regarding carbon tax or interest rate.</p><p><strong><code>conventional generators.xlsx</code></strong> contains all parameters regarding carbon emitting conventional generators, i.e. coal and gas. Parameter examples are the capital cost of installing and operating these power plants as well as their emissions.</p><p><strong>&#39;conversion_technologies.xlsx&#39;</strong> contain all parameters regarding conversion technologies, which convert power into resources or the other way round. These can include chargers for batteries, water pumps for pumped hydro power, electrolyzers for hydrogen production and many more depending on the model. Parameter examples are their in- and output resources, operating costs and efficiencies.</p><p><strong><code>CSP_profiles.xlsx</code></strong> contains the factor of usable concentrated solar power for each timestep, assuming fixed mirrors. It is separate from the regular solar power tracking because there single axis tracking is assumed.</p><p><strong><code>demand_profiles</code></strong> contains the power demand in every timestep of ervery node and year.</p><p><strong><code>hydro_cascades.xlsx</code></strong> contains the existing hydro power plants, their location and interconnectivity. Other parameters include reservoir size, losses and conversion efficiencies and more.</p><p><strong><code>hydro_cascades_profiles.xlsx</code></strong> contains the water inflow into each hydro power reservoir for each timestep.</p><p><strong><code>hydro_run_of_river.xlsx</code></strong> contains the lumped run-of-river hydropower plants for each node.</p><p><strong><code>hydro_run_of_river_profiles.xlsx</code></strong> contains the factor of usable installed river hydro power capacity for each timestep.</p><p><strong><code>preexisting_capacities.xlsx</code></strong> contains the already existing and projected power capacities for every power source (conventional, renewable, etc.) for every node and year.</p><p><strong><code>renewable_generators.xlsx</code></strong> contains all parameters regarding renewable power plants, like solar and wind.</p><p><strong><code>renwable_profiles.xlsx</code></strong> contains the factor of usable power for every renewable generator for every timestep in every node.</p><p><strong><code>storage_technologies.xlsx</code></strong> contains all parameters regarding different storage technologies, e.g. Li-ion-batteries</p><p><strong><code>transmission_lines.xlsx</code></strong> contains all node-connecting power lines of the model, which nodes they connect, as well as their size, lengths, costs, losses and more.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/ReadParameters.jl#L2-L43">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>AbstrConfiguration</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="Leelo.build_base_model" href="#Leelo.build_base_model"><code>Leelo.build_base_model</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">build_base_model()::JuMP.Model</code></pre><p>This function creates an empty <code>JuMP.Model</code> using the <code>CPLEX</code> optimizer. It also sets some optimizer parameters, e.g. convergence tolerance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/Leelo.jl#L179-L184">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Leelo.add_model_variables" href="#Leelo.add_model_variables"><code>Leelo.add_model_variables</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_model_variables(model::JuMP.Model, config::AbstrConfiguration, data::ModelData, i_current_year::Int64)</code></pre><p>TODO: docstring of this function</p><pre><code class="nohighlight hljs">... right now just all variables independent of actual config...</code></pre><p><strong>Arguments</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/ModelVariables.jl#L3-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Leelo.add_model_constraints" href="#Leelo.add_model_constraints"><code>Leelo.add_model_constraints</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_model_constraints(model::JuMP.Model, config::SingleObjectiveBasicConfig, data::ModelData, i_current_year::Int64)</code></pre><p>TODO</p><p><strong>Arguments</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/ModelConstraints.jl#L4-L11">source</a></section><section><div><pre><code class="nohighlight hljs">add_model_constraints(model::JuMP.Model, config::SingleObjectiveMultiServiceConfig, data::ModelData, i_current_year::Int64)</code></pre><p>TODO</p><p><strong>Arguments</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/ModelConstraints.jl#L26-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Leelo.add_single_objective_constraints" href="#Leelo.add_single_objective_constraints"><code>Leelo.add_single_objective_constraints</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_single_objective_constraints(model::JuMP.Model, data::ModelData, i_current_year::Int64)</code></pre><p>This is currently the function called to add constraints to the model for the computation for one given year.</p><p><strong>Arguments</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/ModelConstraints.jl#L49-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Leelo.add_multi_service_constraints" href="#Leelo.add_multi_service_constraints"><code>Leelo.add_multi_service_constraints</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_multi_service_constraints(model::JuMP.Model, data::ModelData, i_current_year::Int64)</code></pre><p>TODO</p><p><strong>Arguments</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/ModelConstraints.jl#L577-L584">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Leelo.add_model_objective" href="#Leelo.add_model_objective"><code>Leelo.add_model_objective</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_model_objective(model::JuMP.Model, config::AbstrConfiguration)</code></pre><p>TODO</p><p><strong>Arguments</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/ModelObjective.jl#L4-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Leelo.write_variables" href="#Leelo.write_variables"><code>Leelo.write_variables</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">write_variables(model::JuMP.Model, data::ModelData, i_current_year::Int64; scenario_dir::String = &quot;data/TestScenario&quot;, file_name::String = &quot;model_results.h5&quot;)</code></pre><p>This function writes the values of the models variables into a <code>HDF5</code> file, after they have been set by the optimization.</p><p><strong>Arguments</strong></p><p><strong><code>model</code></strong> is the <code>JuMP</code> model containing all constraints and variables of the current year. For this function to be called, the <code>optimize!()</code> function has to already been called, such that the model variables have values accessible by the <code>value()</code> function.</p><p><strong><code>data</code></strong> is the data structure containing all the parameters of the model and of the type <code>ModelData</code>.</p><p><strong><code>i_current_year</code></strong> is the index of the current year in <code>data.years</code>.</p><p><strong><code>scenario_dir</code></strong> is a <code>String</code> containing the relative path to the chosen scenarios directory. The written output file will be inside a <code>output_data</code> sub-directory.</p><p><strong><code>file_name</code></strong> is the name of the created file. It defaults to <code>model_results.h5</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/WriteVariables.jl#L2-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Leelo.data_transition" href="#Leelo.data_transition"><code>Leelo.data_transition</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">data_transition(model::JuMP.Model, config::AbstrConfiguration, data::ModelData, i_current_year::Int64)</code></pre><p>This is the function called to transition the data from one year to the next to prepare the next simulation. It updates existing capacities and phase outs.</p><p><strong>Arguments</strong></p><p><strong><code>model</code></strong> is the <code>JuMP</code> model containing all constraints and variables of the current year. For this function to be called, the <code>optimize!()</code> function has to already been called, such that the model variables have values accessible by the <code>value()</code> function.</p><p><strong><code>data</code></strong> is the data structure containing all the parameters of the model and of the type <code>ModelData</code>.</p><p><strong><code>i_current_year</code></strong> is the index of the current year in <code>data.years</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/ModelTransition.jl#L2-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Leelo.write_parameters" href="#Leelo.write_parameters"><code>Leelo.write_parameters</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function write_parameters(data::ModelData; scenario_dir::String = &quot;data/TestScenario&quot;, file_name::String = &quot;model_results.h5&quot;)</code></pre><p>This function writes selected model parameters into a <code>HDF5</code> file. Currently only existing capacities are saved. This function should only be called after the simulation of every benchmark year has terminated, such that all parameters are up to date.</p><p><strong>Arguments</strong></p><p><strong><code>data</code></strong> is the data structure containing all the parameters of the model and is of the type <code>ModelData</code>.</p><p><strong><code>scenario_dir</code></strong> is a <code>String</code> containing the relative path to the chosen scenarios directory. The written output file will be inside a <code>output_data</code> sub-directory.</p><p><strong><code>file_name</code></strong> is the name of the created file. It defaults to <code>model_results.h5</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/WriteParameters.jl#L2-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Leelo.create_plots" href="#Leelo.create_plots"><code>Leelo.create_plots</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_plots(; scenario_dir::String = &quot;data/TestScenario&quot;, file_name::String = &quot;model_results.h5&quot;)</code></pre><p>This function creates plots of the simulation results by calling all individual plot functions. All plots are saved as <code>PDF</code> into the <code>plots</code> sub-directory. This function sets the general theme of the individual plots.</p><p><strong>Arguments</strong></p><p><strong><code>scenario_dir</code></strong> is a <code>String</code> containing the relative path to the chosen scenarios directory. The <code>HDF5</code> file must be inside a <code>output_data</code> sub-directory.</p><p><strong><code>file_name</code></strong> is a <code>String</code> containing the name of <code>HDF5</code> file. It defaults to <code>model_results.h5</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simjunky/Leelo/blob/261d29680d29bc03374f6a50be2823cd51371e38/src/Visualization.jl#L2-L13">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../manual/">« Manual</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Thursday 15 September 2022 02:56">Thursday 15 September 2022</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
